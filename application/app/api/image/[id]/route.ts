import { NextRequest, NextResponse } from 'next/server';
import sharp from 'sharp';

export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  const id = params.id;
  
  // This is where you would fetch the product data based on the ID
  // For now, we'll use the sample data you provided
  const productData = {
    "id_product_mysql": "7517",
    "title": "Â·CHOCOMEL 24X25CL BLIK",
    "photo1_base64": "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

